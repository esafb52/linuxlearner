
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="author" content="jadi" />
        <meta name="description" content="101.3. Change runlevels and shutdown or reboot system weight: 3 Candidates should be able to manage the runlevel of the system. This objective includes changing to single user mode, shutdown or rebooting the system. Candidates should be able to alert users before switching run level and properly terminate processes â€¦" />


    <title>101.3. Change runlevels and shutdown or reboot system - Linux Learner</title>

        <link rel="stylesheet" href="../theme/css/bootstrap.min.css" type="text/css" />

    <link href="../theme/css/font-awesome.min.css" rel="stylesheet" />
    <link href="../theme/css/pygments/native.css" rel="stylesheet" />

    <link href="../theme/css/pelican-twitchy.min.css" rel="stylesheet" />

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Feeds -->
        <link href="../feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="Linux Learner ATOM Feed" />
        <link href="../feeds/all.rss.xml" type="application/rss+xml" rel="alternate"
              title="Linux Learner RSS Feed" />
</head>
<body data-spy="scroll" data-target="#scrollspy">
    <div id="wrapper">
        <!-- Sidebar -->
        <div id="sidebar-wrapper-small" class="twitchy-background">
            <ul id="accordion-small" class="sidebar-nav sidebar-nav-small">
                <li>
        <a href=".." title="Linux Learner" class="collapsed">
            <span class="glyphicon glyphicon-home"></span>
        </a>
    </li>
                <li class="nav-divider"></li>
                <li>
        <a href="../archives.html" title="Recent Articles" class="collapsed">
            <span class="glyphicon glyphicon-th-list"></span>
        </a>
    </li>

                <li class="nav-divider"></li>
                <li>
                    <a data-toggle="collapse" data-parent="#accordion-small" href="#collapse-social-small" title="Social" class="collapsed">
                        <i class="fa fa-users padding-small"></i>
                    </a>
                </li>
                <li class="panel anti-panel"><ul id="collapse-social-small" class="collapse ">
                    <li>
                        <a href="#" title="Another social link"><i class="fa fa-another-social-link-square fa-lg padding-small"></i></a>
                    </li>
                    <li>
                        <a href="#" title="You can add links in your config file"><i class="fa fa-you-can-add-links-in-your-config-file-square fa-lg padding-small"></i></a>
                    </li>
                </ul></li>
                <li class="nav-divider"></li>
                <li>
        <a href="#" title="Back to top" class="collapsed">
            <span class="fa fa-arrow-up"></span>
        </a>
    </li>
            </ul>
        </div>
        <div id="sidebar-wrapper" class="twitchy-background">
            <ul id="accordion" class="sidebar-nav">
                <li class="sidebar-brand">
                    <a href="../">
                            <span class="glyphicon glyphicon-home padding-small"></span>
                            Linux Learner
                    </a>
                </li>
                <li class="nav-divider"></li>
                <li>
                    <a  data-parent="#accordion" href="/pages/donate.html">
                        <span class="glyphicon glyphicon-heart padding-small"></span>
                        Support
                    </a>
                </li>

                    <li class="nav-divider"></li>
                    <li>
                        <a data-toggle="collapse" data-parent="#accordion" href="#collapse-latest">
                            <span class="glyphicon glyphicon-th-list padding-small"></span>
                            LPIC1 Chapters
                        </a>
                    </li>
                    <li class="panel anti-panel"><ul id="collapse-latest" class="sidebar_submenu collapse in">
                        <li class="">
                            <a class="hide-overflow" href="../lpic101/1011-determine-and-configure-hardware-settings.html" title="101.1 Determine and configure hardware settings">
                                <i class="fa fa-file-text padding-small"></i>
                                101.1 Determine and configure hardware settings
                            </a>
                        </li>
                        <li class="">
                            <a class="hide-overflow" href="../lpic101/1012-boot-the-system.html" title="101.2. Boot the system">
                                <i class="fa fa-file-text padding-small"></i>
                                101.2. Boot the system
                            </a>
                        </li>
                        <li class="active">
                            <a class="hide-overflow" href="../lpic101/1013-change-runlevels-and-shutdown-or-reboot-system.html" title="101.3. Change runlevels and shutdown or reboot system">
                                <i class="fa fa-file-text padding-small"></i>
                                101.3. Change runlevels and shutdown or reboot system
                            </a>
                        </li>
                        <li class="">
                            <a class="hide-overflow" href="../lpic101/1021-design-hard-disk-layout.html" title="102.1 Design hard disk layout">
                                <i class="fa fa-file-text padding-small"></i>
                                102.1 Design hard disk layout
                            </a>
                        </li>
                        <li class="">
                            <a class="hide-overflow" href="../lpic101/1022-install-a-boot-manager.html" title="102.2 Install a boot manager">
                                <i class="fa fa-file-text padding-small"></i>
                                102.2 Install a boot manager
                            </a>
                        </li>
                        <li class="">
                            <a class="hide-overflow" href="../lpic101/1023-manage-shared-libraries.html" title="102.3. Manage shared libraries">
                                <i class="fa fa-file-text padding-small"></i>
                                102.3. Manage shared libraries
                            </a>
                        </li>
                        <li class="">
                            <a class="hide-overflow" href="../lpic101/1024-use-debian-package-management.html" title="102.4. Use Debian package management">
                                <i class="fa fa-file-text padding-small"></i>
                                102.4. Use Debian package management
                            </a>
                        </li>
                        <li class="">
                            <a class="hide-overflow" href="../lpic101/1025-use-rpm-and-yum-package-management.html" title="102.5 Use RPM and YUM package management">
                                <i class="fa fa-file-text padding-small"></i>
                                102.5 Use RPM and YUM package management
                            </a>
                        </li>
                        <li class="">
                            <a class="hide-overflow" href="../lpic101/1031-work-on-the-command-line.html" title="103.1 Work on the command line">
                                <i class="fa fa-file-text padding-small"></i>
                                103.1 Work on the command line
                            </a>
                        </li>
                        <li class="">
                            <a class="hide-overflow" href="../lpic101/1032-process-text-streams-using-filters.html" title="103.2. Process text streams using filters">
                                <i class="fa fa-file-text padding-small"></i>
                                103.2. Process text streams using filters
                            </a>
                        </li>
                        <li class="">
                            <a class="hide-overflow" href="../lpic101/1033-perform-basic-file-management.html" title="103.3 Perform basic file management">
                                <i class="fa fa-file-text padding-small"></i>
                                103.3 Perform basic file management
                            </a>
                        </li>
                        <li class="">
                            <a class="hide-overflow" href="../lpic101/1034-use-streams-pipes-and-redirects.html" title="103.4. Use streams, pipes and redirects">
                                <i class="fa fa-file-text padding-small"></i>
                                103.4. Use streams, pipes and redirects
                            </a>
                        </li>
                        <li class="">
                            <a class="hide-overflow" href="../lpic101/1035-create-monitor-and-kill-processes.html" title="103.5. Create, monitor and kill processes">
                                <i class="fa fa-file-text padding-small"></i>
                                103.5. Create, monitor and kill processes
                            </a>
                        </li>
                        <li class="">
                            <a class="hide-overflow" href="../lpic101/1036-modify-process-execution-priorities.html" title="103.6. Modify process execution priorities">
                                <i class="fa fa-file-text padding-small"></i>
                                103.6. Modify process execution priorities
                            </a>
                        </li>
                        <li class="">
                            <a class="hide-overflow" href="../lpic101/1037-search-text-files-using-regular-expressions.html" title="103.7 Search text files using regular expressions">
                                <i class="fa fa-file-text padding-small"></i>
                                103.7 Search text files using regular expressions
                            </a>
                        </li>
                        <li class="">
                            <a class="hide-overflow" href="../lpic101/1038-perform-basic-file-editing-operations-using-vi.html" title="103.8 Perform basic file editing operations using vi">
                                <i class="fa fa-file-text padding-small"></i>
                                103.8 Perform basic file editing operations using vi
                            </a>
                        </li>
                        <li class="">
                            <a class="hide-overflow" href="../lpic102/1041-create-partitions-and-filesystems.html" title="104.1. Create partitions and filesystems">
                                <i class="fa fa-file-text padding-small"></i>
                                104.1. Create partitions and filesystems
                            </a>
                        </li>
                        <li class="">
                            <a class="hide-overflow" href="../lpic102/1042-maintain-the-integrity-of-filesystems.html" title="104.2 Maintain the integrity of filesystems">
                                <i class="fa fa-file-text padding-small"></i>
                                104.2 Maintain the integrity of filesystems
                            </a>
                        </li>
                        <li class="">
                            <a class="hide-overflow" href="../lpic102/1043-control-mounting-and-unmounting-of-filesystems.html" title="104.3. Control mounting and unmounting of filesystems">
                                <i class="fa fa-file-text padding-small"></i>
                                104.3. Control mounting and unmounting of filesystems
                            </a>
                        </li>
                        <li class="">
                            <a class="hide-overflow" href="../lpic102/1044-manage-disk-quotas.html" title="104.4 Manage disk quotas">
                                <i class="fa fa-file-text padding-small"></i>
                                104.4 Manage disk quotas
                            </a>
                        </li>
                        <li class="">
                            <a class="hide-overflow" href="../lpic102/1045-manage-file-permissions-and-ownership.html" title="104.5 Manage file permissions and ownership">
                                <i class="fa fa-file-text padding-small"></i>
                                104.5 Manage file permissions and ownership
                            </a>
                        </li>
                        <li class="">
                            <a class="hide-overflow" href="../lpic102/1046-create-and-change-hard-symbolic-links.html" title="104.6. Create and change hard & symbolic links">
                                <i class="fa fa-file-text padding-small"></i>
                                104.6. Create and change hard & symbolic links
                            </a>
                        </li>
                        <li class="">
                            <a class="hide-overflow" href="../lpic102/1047-find-system-files-and-place-files-in-the-correct-location.html" title="104.7 Find system files and place files in the correct location">
                                <i class="fa fa-file-text padding-small"></i>
                                104.7 Find system files and place files in the correct location
                            </a>
                        </li>
                        <li class="">
                            <a class="hide-overflow" href="../lpic102/1051-customize-and-use-the-shell-environment.html" title="105.1. Customize and use the shell environment">
                                <i class="fa fa-file-text padding-small"></i>
                                105.1. Customize and use the shell environment
                            </a>
                        </li>
                        <li class="">
                            <a class="hide-overflow" href="../lpic102/1052-customize-or-write-simple-scripts.html" title="105.2 Customize or write simple scripts">
                                <i class="fa fa-file-text padding-small"></i>
                                105.2 Customize or write simple scripts
                            </a>
                        </li>
                        <li class="">
                            <a class="hide-overflow" href="../lpic102/1053-sql-data-management.html" title="105.3 SQL data management">
                                <i class="fa fa-file-text padding-small"></i>
                                105.3 SQL data management
                            </a>
                        </li>
                        <li class="">
                            <a class="hide-overflow" href="../lpic102/1061-install-and-configure-x11.html" title="106.1 Install and configure X11">
                                <i class="fa fa-file-text padding-small"></i>
                                106.1 Install and configure X11
                            </a>
                        </li>
                        <li class="">
                            <a class="hide-overflow" href="../lpic102/1062-setup-a-display-manager.html" title="106.2 Setup a display manager">
                                <i class="fa fa-file-text padding-small"></i>
                                106.2 Setup a display manager
                            </a>
                        </li>
                        <li class="">
                            <a class="hide-overflow" href="../lpic102/1063-accessibility.html" title="106.3 Accessibility">
                                <i class="fa fa-file-text padding-small"></i>
                                106.3 Accessibility
                            </a>
                        </li>
                        <li class="">
                            <a class="hide-overflow" href="../lpic102/1071-manage-user-and-group-accounts-and-related-system-files.html" title="107.1 Manage user and group accounts and related system files">
                                <i class="fa fa-file-text padding-small"></i>
                                107.1 Manage user and group accounts and related system files
                            </a>
                        </li>
                        <li class="">
                            <a class="hide-overflow" href="../lpic102/1072-automate-system-administration-tasks-by-scheduling-jobs.html" title="107.2 Automate system administration tasks by scheduling jobs">
                                <i class="fa fa-file-text padding-small"></i>
                                107.2 Automate system administration tasks by scheduling jobs
                            </a>
                        </li>
                        <li class="">
                            <a class="hide-overflow" href="../lpic102/1073-localisation-and-internationalisation.html" title="107.3 Localisation and internationalisation">
                                <i class="fa fa-file-text padding-small"></i>
                                107.3 Localisation and internationalisation
                            </a>
                        </li>
                        <li class="">
                            <a class="hide-overflow" href="../lpic102/1081-maintain-system-time.html" title="108.1 Maintain system time">
                                <i class="fa fa-file-text padding-small"></i>
                                108.1 Maintain system time
                            </a>
                        </li>
                        <li class="">
                            <a class="hide-overflow" href="../lpic102/1082-system-logging.html" title="108.2 System logging">
                                <i class="fa fa-file-text padding-small"></i>
                                108.2 System logging
                            </a>
                        </li>
                        <li class="">
                            <a class="hide-overflow" href="../lpic102/1083-mail-transfer-agent-mta-basics.html" title="108.3 Mail Transfer Agent (MTA) basics">
                                <i class="fa fa-file-text padding-small"></i>
                                108.3 Mail Transfer Agent (MTA) basics
                            </a>
                        </li>
                        <li class="">
                            <a class="hide-overflow" href="../lpic102/1084-manage-printers-and-printing.html" title="108.4 Manage printers and printing">
                                <i class="fa fa-file-text padding-small"></i>
                                108.4 Manage printers and printing
                            </a>
                        </li>
                        <li class="">
                            <a class="hide-overflow" href="../lpic102/1091-fundamentals-of-internet-protocols.html" title="109.1 Fundamentals of internet protocols">
                                <i class="fa fa-file-text padding-small"></i>
                                109.1 Fundamentals of internet protocols
                            </a>
                        </li>
                        <li class="">
                            <a class="hide-overflow" href="../lpic102/1092-basic-network-configuration.html" title="109.2 Basic network configuration">
                                <i class="fa fa-file-text padding-small"></i>
                                109.2 Basic network configuration
                            </a>
                        </li>
                        <li class="">
                            <a class="hide-overflow" href="../lpic102/1093-basic-network-troubleshooting.html" title="109.3 Basic network troubleshooting">
                                <i class="fa fa-file-text padding-small"></i>
                                109.3 Basic network troubleshooting
                            </a>
                        </li>
                        <li class="">
                            <a class="hide-overflow" href="../lpic102/1094-configure-client-side-dns.html" title="109.4 Configure client side DNS">
                                <i class="fa fa-file-text padding-small"></i>
                                109.4 Configure client side DNS
                            </a>
                        </li>
                        <li class="">
                            <a class="hide-overflow" href="../lpic102/1101-perform-security-administration-tasks.html" title="110.1 Perform security administration tasks">
                                <i class="fa fa-file-text padding-small"></i>
                                110.1 Perform security administration tasks
                            </a>
                        </li>
                        <li class="">
                            <a class="hide-overflow" href="../lpic102/1102-setup-host-security.html" title="110.2 Setup host security">
                                <i class="fa fa-file-text padding-small"></i>
                                110.2 Setup host security
                            </a>
                        </li>
                        <li class="">
                            <a class="hide-overflow" href="../lpic102/1103-securing-data-with-encryption.html" title="110.3 Securing data with encryption">
                                <i class="fa fa-file-text padding-small"></i>
                                110.3 Securing data with encryption
                            </a>
                        </li>
                    </ul></li>
                <li class="nav-divider"></li>
                <li>
                    <a  href="/pages/about.html">
                        <i class="fa fa-users padding-small"></i>
                        About Jadi
                    </a>
                </li>


                <li class="nav-divider"></li>
                <li>
                    <a data-toggle="collapse" data-parent="#accordion" href="#collapse-categories">
                        <i class="fa fa-folder-open padding-small"></i>
                        Categories
                    </a>
                </li>
                <li class="panel anti-panel"><ul id="collapse-categories" class="sidebar_submenu collapse ">
                    <li class="active">
                        <a href="../category/lpic101.html">
                            <i class="fa fa-folder-open padding-small"></i>
                            lpic101
                            <span class="badge pull-right categorybadge">16</span>
                        </a>
                    </li>
                    <li >
                        <a href="../category/lpic102.html">
                            <i class="fa fa-folder-open padding-small"></i>
                            lpic102
                            <span class="badge pull-right categorybadge">27</span>
                        </a>
                    </li>
                </ul></li>

            </ul>
        </div>
        <!-- /#sidebar-wrapper -->
        <!-- open/close sidebar -->
        <a href="#menu-toggle" class="btn btn-default" id="menu-toggle">
            <span id="right-arrow" class="glyphicon glyphicon-chevron-right"  title="expand sidebar"></span>
            <span id="left-arrow" class="glyphicon glyphicon-chevron-left" title="minimize sidebar"></span>
        </a>
       <!-- /open/close sidebar -->

        <!-- Page Content -->
        <div id="page-content-wrapper">
            <div class="container-fluid">
<section id="content">
    <article>
        <div class="row">
            <div class="col-lg-9">
                <div class="entry-content">
                    <h1>101.3. Change runlevels and shutdown or reboot system</h1>
<p>weight: 3</p>
<p>Candidates should be able to manage the runlevel of the system. This objective includes changing to single user mode, shutdown or rebooting the system. Candidates should be able to alert users before switching run level and properly terminate processes. This objective also includes setting the default run level. It also includes basic feature knowledge of potential replacements to init.</p>
<h3>Key Knowledge Areas</h3>
<ul>
<li>Set the default runlevel.</li>
<li>Change between run levels including single user mode.</li>
<li>Shutdown and reboot from the command line.</li>
<li>Alert users before switching runlevels or other major system event.</li>
<li>Properly terminate processes.</li>
<li>
<p>Knowledge of basic features of systemd and Upstart</p>
</li>
<li>
<p>/etc/inittab</p>
</li>
<li>shutdown</li>
<li>init</li>
<li>/etc/init.d</li>
<li>telinit</li>
</ul>
<h3>runlevels</h3>
<p>Runlevels define what tasks can be accomplished in the current state (or runlevel) of a Linux system</p>
<ul>
<li>0- Halt</li>
<li>1- Single user mode (recovery)</li>
<li>2- Debian/Ubuntu default</li>
<li>3- RHEL/Fedora/SUSE text mode</li>
<li>4- free</li>
<li>5- RHEL/Fedora/SUSE graphical mode</li>
<li>6- reboot</li>
</ul>
<p>default run level can be seen in this file which says init what to do, sets default runlevel and.. being phased out!</p>
<div class="highlight"><pre><span></span>grep &quot;^id:&quot; /etc/inittab #on init systems
id:5:initdefault:
</pre></div>


<p>it can also be done on grub kernel parameters.</p>
<p>or using the runleveland telinit commands:</p>
<div class="highlight"><pre><span></span># runlevel
N 3
# telinit 5
# runlevel
3 5
</pre></div>


<p><strong>Note:</strong> runlevel 1 is single user mode!</p>
<h3>/etc/inittab</h3>
<p>is being replaced by upstart and systemd but is still part of the exam.</p>
<div class="highlight"><pre><span></span><span class="err">#</span>
<span class="err">#</span> <span class="nt">inittab</span>       <span class="nt">This</span> <span class="nt">file</span> <span class="nt">describes</span> <span class="nt">how</span> <span class="nt">the</span> <span class="nt">INIT</span> <span class="nt">process</span> <span class="nt">should</span> <span class="nt">set</span> <span class="nt">up</span>
<span class="err">#</span>               <span class="nt">the</span> <span class="nt">system</span> <span class="nt">in</span> <span class="nt">a</span> <span class="nt">certain</span> <span class="nt">run-level</span><span class="o">.</span>
<span class="err">#</span>
<span class="err">#</span> <span class="nt">Author</span><span class="o">:</span>       <span class="nt">Miquel</span> <span class="nt">van</span> <span class="nt">Smoorenburg</span><span class="o">,</span> <span class="o">&lt;</span><span class="nt">miquels</span><span class="p">@</span><span class="k">drinkel</span><span class="p">.</span><span class="nc">nl</span><span class="p">.</span><span class="nc">mugnet</span><span class="p">.</span><span class="nc">org</span><span class="o">&gt;</span>
<span class="err">#</span>               <span class="nt">Modified</span> <span class="nt">for</span> <span class="nt">RHS</span> <span class="nt">Linux</span> <span class="nt">by</span> <span class="nt">Marc</span> <span class="nt">Ewing</span> <span class="nt">and</span> <span class="nt">Donnie</span> <span class="nt">Barnes</span>
<span class="err">#</span>

<span class="err">#</span> <span class="nt">Default</span> <span class="nt">runlevel</span><span class="o">.</span> <span class="nt">The</span> <span class="nt">runlevels</span> <span class="nt">used</span> <span class="nt">by</span> <span class="nt">RHS</span> <span class="nt">are</span><span class="o">:</span>
<span class="err">#</span>   <span class="nt">0</span> <span class="nt">-</span> <span class="nt">halt</span> <span class="o">(</span><span class="nt">Do</span> <span class="nt">NOT</span> <span class="nt">set</span> <span class="nt">initdefault</span> <span class="nt">to</span> <span class="nt">this</span><span class="o">)</span>
<span class="err">#</span>   <span class="nt">1</span> <span class="nt">-</span> <span class="nt">Single</span> <span class="nt">user</span> <span class="nt">mode</span>
<span class="err">#</span>   <span class="nt">2</span> <span class="nt">-</span> <span class="nt">Multiuser</span><span class="o">,</span> <span class="nt">without</span> <span class="nt">NFS</span> <span class="o">(</span><span class="nt">The</span> <span class="nt">same</span> <span class="nt">as</span> <span class="nt">3</span><span class="o">,</span> <span class="nt">if</span> <span class="nt">you</span> <span class="nt">do</span> <span class="nt">not</span> <span class="nt">have</span> <span class="nt">networking</span><span class="o">)</span>
<span class="err">#</span>   <span class="nt">3</span> <span class="nt">-</span> <span class="nt">Full</span> <span class="nt">multiuser</span> <span class="nt">mode</span>
<span class="err">#</span>   <span class="nt">4</span> <span class="nt">-</span> <span class="nt">unused</span>
<span class="err">#</span>   <span class="nt">5</span> <span class="nt">-</span> <span class="nt">X11</span>
<span class="err">#</span>   <span class="nt">6</span> <span class="nt">-</span> <span class="nt">reboot</span> <span class="o">(</span><span class="nt">Do</span> <span class="nt">NOT</span> <span class="nt">set</span> <span class="nt">initdefault</span> <span class="nt">to</span> <span class="nt">this</span><span class="o">)</span>
<span class="err">#</span>
<span class="nt">id</span><span class="p">:</span><span class="nd">5</span><span class="p">:</span><span class="nd">initdefault</span><span class="o">:</span>

<span class="err">#</span> <span class="nt">System</span> <span class="nt">initialization</span><span class="o">.</span>
<span class="nt">si</span><span class="p">::</span><span class="nd">sysinit</span><span class="o">:/</span><span class="nt">etc</span><span class="o">/</span><span class="nt">rc</span><span class="p">.</span><span class="nc">d</span><span class="o">/</span><span class="nt">rc</span><span class="p">.</span><span class="nc">sysinit</span>

<span class="nt">l0</span><span class="p">:</span><span class="nd">0</span><span class="p">:</span><span class="nd">wait</span><span class="o">:/</span><span class="nt">etc</span><span class="o">/</span><span class="nt">rc</span><span class="p">.</span><span class="nc">d</span><span class="o">/</span><span class="nt">rc</span> <span class="nt">0</span>
<span class="nt">l1</span><span class="p">:</span><span class="nd">1</span><span class="p">:</span><span class="nd">wait</span><span class="o">:/</span><span class="nt">etc</span><span class="o">/</span><span class="nt">rc</span><span class="p">.</span><span class="nc">d</span><span class="o">/</span><span class="nt">rc</span> <span class="nt">1</span>
<span class="nt">l2</span><span class="p">:</span><span class="nd">2</span><span class="p">:</span><span class="nd">wait</span><span class="o">:/</span><span class="nt">etc</span><span class="o">/</span><span class="nt">rc</span><span class="p">.</span><span class="nc">d</span><span class="o">/</span><span class="nt">rc</span> <span class="nt">2</span>
<span class="nt">l3</span><span class="p">:</span><span class="nd">3</span><span class="p">:</span><span class="nd">wait</span><span class="o">:/</span><span class="nt">etc</span><span class="o">/</span><span class="nt">rc</span><span class="p">.</span><span class="nc">d</span><span class="o">/</span><span class="nt">rc</span> <span class="nt">3</span>
<span class="nt">l4</span><span class="p">:</span><span class="nd">4</span><span class="p">:</span><span class="nd">wait</span><span class="o">:/</span><span class="nt">etc</span><span class="o">/</span><span class="nt">rc</span><span class="p">.</span><span class="nc">d</span><span class="o">/</span><span class="nt">rc</span> <span class="nt">4</span>
<span class="nt">l5</span><span class="p">:</span><span class="nd">5</span><span class="p">:</span><span class="nd">wait</span><span class="o">:/</span><span class="nt">etc</span><span class="o">/</span><span class="nt">rc</span><span class="p">.</span><span class="nc">d</span><span class="o">/</span><span class="nt">rc</span> <span class="nt">5</span>
<span class="nt">l6</span><span class="p">:</span><span class="nd">6</span><span class="p">:</span><span class="nd">wait</span><span class="o">:/</span><span class="nt">etc</span><span class="o">/</span><span class="nt">rc</span><span class="p">.</span><span class="nc">d</span><span class="o">/</span><span class="nt">rc</span> <span class="nt">6</span>

<span class="err">#</span> <span class="nt">Trap</span> <span class="nt">CTRL-ALT-DELETE</span>
<span class="nt">ca</span><span class="p">::</span><span class="nd">ctrlaltdel</span><span class="o">:/</span><span class="nt">sbin</span><span class="o">/</span><span class="nt">shutdown</span> <span class="nt">-t3</span> <span class="nt">-r</span> <span class="nt">now</span>

<span class="err">#</span> <span class="nt">When</span> <span class="nt">our</span> <span class="nt">UPS</span> <span class="nt">tells</span> <span class="nt">us</span> <span class="nt">power</span> <span class="nt">has</span> <span class="nt">failed</span><span class="o">,</span> <span class="nt">assume</span> <span class="nt">we</span> <span class="nt">have</span> <span class="nt">a</span> <span class="nt">few</span> <span class="nt">minutes</span>
<span class="err">#</span> <span class="nt">of</span> <span class="nt">power</span> <span class="nt">left</span><span class="o">.</span>  <span class="nt">Schedule</span> <span class="nt">a</span> <span class="nt">shutdown</span> <span class="nt">for</span> <span class="nt">2</span> <span class="nt">minutes</span> <span class="nt">from</span> <span class="nt">now</span><span class="o">.</span>
<span class="err">#</span> <span class="nt">This</span> <span class="nt">does</span><span class="o">,</span> <span class="nt">of</span> <span class="nt">course</span><span class="o">,</span> <span class="nt">assume</span> <span class="nt">you</span> <span class="nt">have</span> <span class="nt">powerd</span> <span class="nt">installed</span> <span class="nt">and</span> <span class="nt">your</span>
<span class="err">#</span> <span class="nt">UPS</span> <span class="nt">connected</span> <span class="nt">and</span> <span class="nt">working</span> <span class="nt">correctly</span><span class="o">.</span>
<span class="nt">pf</span><span class="p">::</span><span class="nd">powerfail</span><span class="o">:/</span><span class="nt">sbin</span><span class="o">/</span><span class="nt">shutdown</span> <span class="nt">-f</span> <span class="nt">-h</span> <span class="o">+</span><span class="nt">2</span> <span class="s2">&quot;Power Failure; System Shutting Down&quot;</span>

<span class="err">#</span> <span class="nt">If</span> <span class="nt">power</span> <span class="nt">was</span> <span class="nt">restored</span> <span class="nt">before</span> <span class="nt">the</span> <span class="nt">shutdown</span> <span class="nt">kicked</span> <span class="nt">in</span><span class="o">,</span> <span class="nt">cancel</span> <span class="nt">it</span><span class="o">.</span>
<span class="nt">pr</span><span class="p">:</span><span class="nd">12345</span><span class="p">:</span><span class="nd">powerokwait</span><span class="o">:/</span><span class="nt">sbin</span><span class="o">/</span><span class="nt">shutdown</span> <span class="nt">-c</span> <span class="s2">&quot;Power Restored; Shutdown Cancelled&quot;</span>


<span class="err">#</span> <span class="nt">Run</span> <span class="nt">gettys</span> <span class="nt">in</span> <span class="nt">standard</span> <span class="nt">runlevels</span>
<span class="nt">1</span><span class="p">:</span><span class="nd">2345</span><span class="p">:</span><span class="nd">respawn</span><span class="o">:/</span><span class="nt">sbin</span><span class="o">/</span><span class="nt">mingetty</span> <span class="nt">tty1</span>
<span class="nt">2</span><span class="p">:</span><span class="nd">2345</span><span class="p">:</span><span class="nd">respawn</span><span class="o">:/</span><span class="nt">sbin</span><span class="o">/</span><span class="nt">mingetty</span> <span class="nt">tty2</span>
<span class="nt">3</span><span class="p">:</span><span class="nd">2345</span><span class="p">:</span><span class="nd">respawn</span><span class="o">:/</span><span class="nt">sbin</span><span class="o">/</span><span class="nt">mingetty</span> <span class="nt">tty3</span>
<span class="nt">4</span><span class="p">:</span><span class="nd">2345</span><span class="p">:</span><span class="nd">respawn</span><span class="o">:/</span><span class="nt">sbin</span><span class="o">/</span><span class="nt">mingetty</span> <span class="nt">tty4</span>
<span class="nt">5</span><span class="p">:</span><span class="nd">2345</span><span class="p">:</span><span class="nd">respawn</span><span class="o">:/</span><span class="nt">sbin</span><span class="o">/</span><span class="nt">mingetty</span> <span class="nt">tty5</span>
<span class="nt">6</span><span class="p">:</span><span class="nd">2345</span><span class="p">:</span><span class="nd">respawn</span><span class="o">:/</span><span class="nt">sbin</span><span class="o">/</span><span class="nt">mingetty</span> <span class="nt">tty6</span>

<span class="err">#</span> <span class="nt">Run</span> <span class="nt">xdm</span> <span class="nt">in</span> <span class="nt">runlevel</span> <span class="nt">5</span>
<span class="nt">x</span><span class="p">:</span><span class="nd">5</span><span class="p">:</span><span class="nd">respawn</span><span class="o">:/</span><span class="nt">etc</span><span class="o">/</span><span class="nt">X11</span><span class="o">/</span><span class="nt">prefdm</span> <span class="nt">-nodaemon</span>
</pre></div>


<p>this is the format:</p>
<div class="highlight"><pre><span></span><span class="n">id</span><span class="o">:</span><span class="n">runlevels</span><span class="o">:</span><span class="n">action</span><span class="o">:</span><span class="n">process</span>
</pre></div>


<ul>
<li>id: 2 or 3 chars</li>
<li>runlevels: which runlevel this commands refers to (empty means all)</li>
<li>action: respawn, wait, once, initdefault (default run level as seen above), ctrlaltdel (what to do with crrl+alt+delete)</li>
</ul>
<p>all scripts are here:</p>
<div class="highlight"><pre><span></span>ls -ltrh /etc/init.d
</pre></div>


<p>and start/stop on runlevels are controlled from these directories:</p>
<div class="highlight"><pre><span></span>root@funlife:~# ls /etc/rc2.d/
</pre></div>


<h3>Shutdown</h3>
<p>The preferred method to shut down or reboot the system is to use the shutdown command, which first sends a warning message to all logged-in users and blocks any further logins. It then signals init to switch runlevels. The init process then sends all running processes a SIGTERM signal, giving them a chance to save data or otherwise properly terminate. After 5 seconds, or another delay if specified, init sends a SIGKILL signal to forcibly end each remaining process.</p>
<ul>
<li>default is 5 seconds delay and then going to runlevel 1</li>
<li>-h will halt the system</li>
<li>-r will reboot the system</li>
<li>time is hh:mm or n (minutes) or now</li>
<li>whatever you add, will be broadcasted to logged in users</li>
<li>
<p>if the command is running, ctrl+c or the "shutdown -c" will cancel it</p>
<p>shutdown -r 60 Reloading updated kernel</p>
</li>
</ul>
<p>for more advance users:
<em> -t60 will delay 60 seconds between SIGTERM and SIGKILL
</em> if you cancel a shutdown, users wont get the news! you can use "wall" command to tell them that the shutdown is canceled</p>
<h3>Halt, reboot and poweroff</h3>
<ul>
<li>The halt command halts the system.</li>
<li>The poweroff command is a symbolic link to the halt command, which halts the system and then attempts to power it off.</li>
<li>The reboot command is another symbolic link to the halt command, which halts the system and then reboots it.</li>
</ul>
<h3>upstart</h3>
<p>is not static set of init scripts and understands events. Events are used to trigger tasks or services (jobs). Examples are connecting a usb or starting the Apache server only after having network and filesystem.</p>
<p>jobs are defined in /etc/init and subdirectories.</p>
<div class="highlight"><pre><span></span>initctl list
</pre></div>


<p>being used in ubuntu.</p>
<h3>systemd</h3>
<p>uses sockets and a socket will be open for each daemon process but will start the daemon only when needed. Understands dependencies. Faster and parallel.</p>
<div class="highlight"><pre><span></span>systemctl
</pre></div>


<p>works with units (service, socket, device, mount, automount, target (group of other units), snapshot (save/rollback)). config files has unit type suffix (say cups.service or rpcbind.socket) and are located at /etc/systemd/system</p>
<p>being used in Fedora based systems and SUSE</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.</p>
<p>.
.</p>
                </div>
                <footer class="text-right">
                    <p></p>
                </footer>
            </div>
        </div>
    </article>
</section>
<footer>
    <hr>
    <div class="row">
        <div class="col-lg-9 text-center">
            <p><small>
                Built by <a href="http://docs.getpelican.com/en/latest">Pelican</a> / <a href="https://github.com/ingwinlu/pelican-twitchy">pelican-twitchy</a>
                &middot;                    &copy; 2015 jadi
            </small></p>
        </div>
    </div>
</footer>            </div>
        </div>
        <!-- /#page-content-wrapper -->
    </div>
    <!-- /#wrapper -->
    <!-- jQuery Version 1.11.2 -->
    <script src="../theme/js/jquery-1.11.2.min.js"></script>
    <!-- Bootstrap Core JavaScript -->
    <script src="../theme/js/bootstrap.min.js"></script>
    <!-- twitchy Script -->
    <script src="../theme/js/pelican_twitchy.min.js"></script>

</body>
</html>